<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Calculadora de Consumo Energético</title>
    <link rel="stylesheet" href="style.css" />
    <style>
      body {
        font-family: Arial, sans-serif;
        background-color: #f4f4f9;
        color: #333;
        margin: 0;
        padding: 0;
      }

      .container {
        width: 100%;
        max-width: 600px;
        margin: 50px auto;
        background: #fff;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
      }

      h1 {
        text-align: center;
        color: #333;
      }

      .form-group {
        margin-bottom: 15px;
      }

      label {
        display: block;
        margin-bottom: 5px;
      }

      input {
        width: 100%;
        padding: 8px;
        border: 1px solid #ccc;
        border-radius: 5px;
      }

      button {
        width: 100%;
        padding: 10px;
        background-color: #28a745;
        color: #fff;
        border: none;
        border-radius: 5px;
        cursor: pointer;
      }

      button:hover {
        background-color: #218838;
      }

      #result {
        margin-top: 20px;
        padding: 10px;
        background-color: #e9ecef;
        border-radius: 5px;
      }

      ul {
        list-style-type: none;
        padding: 0;
      }

      ul li {
        padding: 5px 0;
      }

      h2,
      h3 {
        color: #333;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Calculadora de Consumo Energético</h1>

      <form id="energyForm">
        <div class="form-group">
          <label for="deviceName">Nombre del Dispositivo</label>
          <input
            type="text"
            id="deviceName"
            placeholder="Ej: Nevera"
            required
          />
        </div>

        <div class="form-group">
          <label for="powerConsumption">Consumo (Watts)</label>
          <input
            type="number"
            id="powerConsumption"
            placeholder="Ej: 150"
            required
          />
        </div>

        <div class="form-group">
          <label for="usageHours">Horas de uso por día</label>
          <input type="number" id="usageHours" placeholder="Ej: 8" required />
        </div>

        <div class="form-group">
          <label for="daysUsed">Días de uso por mes</label>
          <input type="number" id="daysUsed" placeholder="Ej: 30" required />
        </div>

        <div class="form-group">
          <label for="costPerKWh">Costo por kWh (en tu moneda)</label>
          <input
            type="number"
            id="costPerKWh"
            placeholder="Ej: 0.15"
            required
          />
        </div>

        <button type="button" onclick="addDevice()">Añadir Dispositivo</button>
      </form>

      <h2>Dispositivos añadidos</h2>
      <ul id="deviceList"></ul>

      <div id="result">
        <h3>Total Consumo de Energía: <span id="totalEnergy">0</span> kWh</h3>
        <h3>Costo Total: <span id="totalCost">0</span> (moneda local)</h3>
        <h3>Eficiencia Energética: <span id="efficiency">Alta</span></h3>
      </div>
    </div>
    <script>
      let devices = [];

      function addDevice() {
        // Obtener los valores del formulario
        const deviceName = document.getElementById("deviceName").value;
        const powerConsumption = parseFloat(
          document.getElementById("powerConsumption").value
        ); // en Watts
        const usageHours = parseFloat(
          document.getElementById("usageHours").value
        ); // horas por día
        const daysUsed = parseFloat(document.getElementById("daysUsed").value); // días por mes
        const costPerKWh = parseFloat(
          document.getElementById("costPerKWh").value
        ); // costo por kWh

        // Validar que todos los campos estén completos
        if (
          !deviceName ||
          isNaN(powerConsumption) ||
          isNaN(usageHours) ||
          isNaN(daysUsed) ||
          isNaN(costPerKWh)
        ) {
          alert("Por favor, completa todos los campos correctamente.");
          return;
        }

        // Calcular el consumo energético del dispositivo en kWh
        const energyConsumed =
          (powerConsumption * usageHours * daysUsed) / 1000; // en kWh
        const cost = energyConsumed * costPerKWh; // Costo total por mes

        // Agregar dispositivo a la lista
        const device = {
          name: deviceName,
          energy: energyConsumed,
          cost: cost,
        };
        devices.push(device);

        // Actualizar la UI
        updateUI();
      }

      function updateUI() {
        const deviceList = document.getElementById("deviceList");
        const totalEnergyElement = document.getElementById("totalEnergy");
        const totalCostElement = document.getElementById("totalCost");
        const efficiencyElement = document.getElementById("efficiency");

        // Limpiar lista de dispositivos
        deviceList.innerHTML = "";

        let totalEnergy = 0;
        let totalCost = 0;

        // Mostrar dispositivos y calcular totales
        devices.forEach((device) => {
          const listItem = document.createElement("li");
          listItem.textContent = `${device.name}: ${device.energy.toFixed(
            2
          )} kWh, Costo: ${device.cost.toFixed(2)} (moneda)`;
          deviceList.appendChild(listItem);

          totalEnergy += device.energy;
          totalCost += device.cost;
        });

        // Actualizar totales en la UI
        totalEnergyElement.textContent = totalEnergy.toFixed(2);
        totalCostElement.textContent = totalCost.toFixed(2);

        // Determinar eficiencia energética
        let efficiency = "Alta";
        if (totalEnergy > 100) {
          efficiency = "Media";
        }
        if (totalEnergy > 300) {
          efficiency = "Baja";
        }
        efficiencyElement.textContent = efficiency;
      }
    </script>
    <script src="app.js"></script>
  </body>
</html>
